import { TransactionBlock } from "@mysten/sui.js/transactions";
import { Button, Container } from "@radix-ui/themes";
import {
  useSignAndExecuteTransactionBlock,
} from "@mysten/dapp-kit";
import { TESTNET_NFT_CONTRACT, TESTNET_COUNTER_ID } from "./constants";

export function Mint() {
  const { mutate: signAndExecute } = useSignAndExecuteTransactionBlock();

  return (
    <Container>
      <Button
        size="3"
        onClick={() => {
          create();
        }}
      >
        Mint
      </Button>
    </Container>
  );

  function create() {
    const txb = new TransactionBlock();

    txb.moveCall({
      arguments: [
        txb.pure.string("suimigos 0"),
        txb.pure.string("4269 absolute chads building beyond"),
        txb.pure.string("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAABmJLR0QA/wD/AP+gvaeTAAAM4UlEQVR4nO3dMWud1wHH4XttrwJDtpDEGQLpUtNMhUKhBYOXdsi3kLxLH8Kei/IZuqhDoUughUAgU4qyNNChSUyGQojhzurtGCgktc+51qtXv+fZD/f42pJ/nOW/vbq43G8AgJQ7S18AALh+AgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIurf0BeDQnt9/uPQVVuOtF5fDZ2vf88x3BTeRFwAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQeaAeW2Wmot955eLfOwqff3Z+N9R7Xue+a5MCXMTeQEAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAELS9urjcL30J+F93Hi8zJczL+/qz8bNrnBKe+fPOMCXM6+IFAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQOeBb7vl9s7r8uKVmeWtTwjNmvitTwvwULwAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAgu4tfQFeryXnQO88NkV80y01yztz1pQwHIYXAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABB5oCvyfP7wWncidnWmqVmatc4y7vGO8NN5AUAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAICg7dXF5X7pS3Bz3Xn8cOkrJNR26tf4552581LeenG59BW4wbwAAECQAACAIAEA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wtvt+NkZE3feTtz55ORk+Oz5+fkin7vUv6vNZrO5uricOs/N5gUAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJA5YF6bmSnhpeZTnz17Nnz29PR0+Kw54Jc3Mwc8Y6l565kZYnO+/BQvAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACC7i19AbhJjo+Ph8/OTAlzPWZmpuG28QIAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIMgcMBzI6enp8Nndbjd8drvdDp/dD5+cM3Pns7Oz4bMz3zPcNl4AACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABB95a+ADDn7Oxs+Oz26dMD3uTlnZycLPK5wA+8AABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIMgcMYTOzvEdHR8Nnd7vd8FngMLwAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAj6L+UQj7o/Q0moAAAAAElFTkSuQmCC"),
        txb.object(TESTNET_COUNTER_ID)
              ],
      target: `${TESTNET_NFT_CONTRACT}::suimigos_mint::mint_to_sender`,
    });

    signAndExecute(
      {
        transactionBlock: txb,
        options: {
          showEffects: true,
          showObjectChanges: true,
        },
      },
      {
        onSuccess: () => {
          console.log("Success!")
        },
      },
    );
  }
}
